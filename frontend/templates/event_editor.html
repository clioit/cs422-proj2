<!-- HTML template for rendering the event editor page.
Created for CS 422 Project 2: ETA in Spring 2025.

Authors: Evelyn Orozco, Clio Tsao
Last modified: 06/1/2025 -->

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <!--  for different devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Page title in the browser tab -->
  <title>Event Editor</title>
  <!-- Link to the external CSS file for styling the page -->
  <link rel="stylesheet" href="../static/event_editor.css" />
</head>

<body>
  <!-- Container for the entire event form content -->
  <div class="event-container">
    <h1>Event Editor</h1>

    <!-- Event form for user input -->
    <form id="eventForm">
      <!-- Title input field -->
      <label for="title">Title:</label>
      <input class = "req" type="text" id="title" name="title" required />

      <!-- Description textarea -->
      <label for="description">Description:</label>
      <textarea id="description" name="description" class="description-box"></textarea>
      
      <!-- Start Date + Start Time -->
      <div class="date-time-pair">
        <div class="date-time-item">
          <label for="start">Start Date:</label>
          <input class="req" type="date" id="start" name="start" required />
        </div>

        <div class="date-time-item">
          <label for="startTime">Start Time:</label>
          <input class="req" type="time" id="startTime" name="startTime" required />
        </div>
      </div>

      <!-- End Date + End Time -->
      <div class="date-time-pair">
        <div class="date-time-item">
          <label for="end">End Date:</label>
          <input class="req" type="date" id="end" name="end" required />
        </div>

        <div class="date-time-item">
          <label for="endTime">End Time:</label>
          <input class="req" type="time" id="endTime" name="endTime" required />
        </div>
      </div>




      <!-- Event details (RSVP, Contact, Venue, Other) -->
      <div class="details-section">
        <!-- Button to toggle showing/hiding details -->
        <button type="button" class="dropdown-toggle">Event Details</button>

        <!-- Hidden container for additional details, shown when toggle is activated -->
        <div class="details-content hidden">
      
          <label for="rsvpDetail">RSVP Info:</label>
          <input type="text" id="rsvpDetail" name="rsvpDetail" />

          <label for="contactDetail">Contact Info:</label>
          <input type="text" id="contactDetail" name="contactDetail" />

          <label for="venueDetail">Venue Info:</label>
          <input type="text" id="venueDetail" name="venueDetail" />


          <label for="budgetDetail">Budget Info:</label>
          <input type="text" id="budgetDetail" name="budgetDetail" />

          <label for="other">Other:</label>
          <input type="text" id="other" name="other" />
        </div>
      </div>

    <!-- Section for adding a Task -->
      <div class="task-section">
          <button type="button" class="dropdown-task-toggle">Tasks</button>
          
    <!-- Hidden container for the Task input -->
        <div class="task-content hidden">
          <label for="taskDropdown">Select a Task:</label>
          <select id="taskDropdown" name="taskDropdown">
            <option value="">Select a task</option>
            <option value="task1">Task 1</option>
            <option value="task2">Task 2</option>
            <option value="new">Create New Task</option>
          </select>  
  <!-- Task description box -->
          <div id="newTaskContainer" class="hidden">
            <label for="newTask">Task Description:</label>
            <textarea id="newTask" name="newTask" class="description-box" placeholder="Describe the task..."></textarea>
  <!-- Save taks button -->
            <button type = "button" class="save-task" onclick="addTask()">Save Task</button>
          </div>
        </div>
      </div>  

      <!-- Dropdown menu to assign event to a person -->
      <label for="person">Assign to Person:</label>
      <select id="person" name="person">
        <option value="">Select</option>
        <option value="person1">Person 1</option>
        <option value="person2">Person 2</option>
      </select>

      <!-- Checkbox to publish event -->
      <label for="publish">Publish?
      <input type="checkbox" id="publishCheckbox" name="publish" value = "true"/>
      </label>

      <!-- Button to submit and save the event data -->
      <button type="submit" id="submitButton" class="add-event" onclick="postEvent()">Save Event</button>
      
      <!-- Button to exit the page without saving -->
      <button id="dashboardButton" class="add-event" onclick="goDashboard()">Cancel</button>

      <!-- Message field to display event save status -->
      <p id="message"></p>
    </form>
  </div>

  <!-- Link to the external JavaScript file that handles form functionality -->
  <script src="../static/event_editor.js"></script>
  <script>
    const org_id = "{{ org_id }}";
  </script>
</body>
</html>

